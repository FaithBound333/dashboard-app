<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0"
  />
  <title>Dashboard</title>

  <meta name="theme-color" content="#4f46e5" id="themeColorMeta" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <a href="#pageTitle" class="skip-link">Skip to main content</a>
  <div class="bg" aria-hidden="true"></div>

  <!-- LOCK OVERLAY -->
  <div id="lockOverlay" class="overlay hidden" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="lockTitle">
      <div id="lockTitle" class="modal-title">üîí Locked</div>
      <div class="modal-sub">Enter your password to unlock.</div>

      <label class="sr-only" for="unlockPassword">Password</label>
      <input
        id="unlockPassword"
        class="input w-full"
        type="password"
        placeholder="Password"
        autocomplete="off"
      />
      <button id="unlockBtn" class="btn primary w-full" type="button">
        Unlock
      </button>

      <div id="unlockError" class="error hidden" role="alert">
        Wrong password.
      </div>
      <div class="tiny">
        Note: this is basic privacy (client-side), not strong security.
      </div>
    </div>
  </div>

  <!-- GENERIC APP MODAL (for add/edit/confirm/command palette) -->
  <div id="appModal" class="overlay hidden" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="appModalTitle">
      <div id="appModalTitle" class="modal-title"></div>
      <div id="appModalBody" class="modal-sub"></div>

      <div id="appModalInputs"></div>

      <div class="row row-actions modal-actions">
        <button id="appModalCancel" class="btn" type="button">Cancel</button>
        <button id="appModalOk" class="btn primary" type="button">OK</button>
      </div>
    </div>
  </div>

  <!-- TOAST -->
  <div id="toast" class="toast hidden"></div>

  <div class="app">
    <!-- SIDEBAR -->
    <aside class="sidebar" aria-label="Main navigation">
      <div class="brand">
        <div class="logo" aria-hidden="true">D</div>
        <div class="brand-text">
          <div class="brand-title">Dashboard</div>
          <div class="brand-subtitle">Your links hub</div>
        </div>
      </div>

      <nav class="sidebar-nav" aria-label="Sections">
        <div class="side-group" data-group="main">
          <button class="group-header" type="button">
            <span>MAIN</span>
            <span class="chev" aria-hidden="true">‚ñæ</span>
          </button>
          <div class="group-body">
            <button
              class="nav-item active"
              data-page="dashboard"
              type="button"
              aria-label="Dashboard"
            >
              <span aria-hidden="true">üè†</span>
              <span class="label">Dashboard</span>
            </button>
            <button
              class="nav-item"
              data-page="categories"
              type="button"
              aria-label="Categories"
            >
              <span aria-hidden="true">üóÇÔ∏è</span>
              <span class="label">Categories</span>
            </button>
          </div>
        </div>

        <div class="side-group" data-group="downloads">
          <button class="group-header" type="button">
            <span>DOWNLOADS</span>
            <span class="chev" aria-hidden="true">‚ñæ</span>
          </button>
          <div class="group-body">
            <button
              class="nav-item"
              data-page="downloads"
              type="button"
              aria-label="Downloads"
            >
              <span aria-hidden="true">‚¨áÔ∏è</span>
              <span class="label">Downloads</span>
            </button>
          </div>
        </div>

        <div class="side-group" data-group="system">
          <button class="group-header" type="button">
            <span>SYSTEM</span>
            <span class="chev" aria-hidden="true">‚ñæ</span>
          </button>
          <div class="group-body">
            <button
              class="nav-item"
              data-page="settings"
              type="button"
              aria-label="Settings"
            >
              <span aria-hidden="true">‚öôÔ∏è</span>
              <span class="label">Settings</span>
            </button>
          </div>
        </div>
      </nav>

      <div class="sidebar-footer">
        <button
          id="themeToggle"
          class="theme-btn"
          type="button"
          title="Toggle theme"
          aria-label="Toggle dark or light theme"
        >
          <span id="themeIcon" aria-hidden="true">üåô</span>
          <span id="themeText" class="label">Dark</span>
        </button>
      </div>
    </aside>

    <!-- MAIN -->
    <main class="main" role="main">
      <header class="topbar">
        <div class="topbar-left">
          <button
            id="sidebarToggle"
            class="btn icon-btn"
            type="button"
            aria-label="Toggle sidebar"
          >
            ‚ò∞
          </button>
          <div class="page-title" id="pageTitle">Dashboard</div>
        </div>

        <div class="top-actions" id="dashboardTools">
          <div class="search">
            <span class="search-icon" aria-hidden="true">‚åï</span>
            <label class="sr-only" for="searchInput">Search links</label>
            <input
              id="searchInput"
              type="text"
              placeholder="Search links..."
              autocomplete="off"
            />
          </div>

          <select id="sortSelect" class="input" style="min-width: 160px;">
            <option value="name">Sort: A‚ÄìZ</option>
            <option value="clicks">Sort: Most used</option>
            <option value="recent">Sort: Recently opened</option>
          </select>
        </div>
      </header>

      <section class="pages">
        <!-- DASHBOARD -->
        <section class="page show" id="page-dashboard" aria-label="Dashboard">
          <div class="row" id="tagFilterRow">
            <span class="tiny">Filter by tag:</span>
            <div id="tagFilterChips" class="tag-chips"></div>
          </div>

          <div id="favSection" class="section hidden">
            <div class="section-title">‚≠ê Favourites</div>
            <div class="grid" id="favGrid"></div>
          </div>

          <div class="section">
            <div class="section-title">All links</div>
            <div class="grid" id="linkGrid"></div>
          </div>

          <p class="hint">
            Tip: use search to filter. Click ‚≠ê to pin. Order links in Categories with drag &amp; drop.
            Use <kbd>Ctrl+K</kbd> to focus search, <kbd>Ctrl+P</kbd> for command palette.
          </p>
        </section>

        <!-- CATEGORIES -->
        <section class="page" id="page-categories" aria-label="Categories">
          <div class="row">
            <div class="subtitle">Categories</div>
            <div class="row-actions">
              <button id="addCategoryBtn" class="btn" type="button">
                ‚ûï Add Category
              </button>
              <button id="expandAllBtn" class="btn" type="button">
                Expand all
              </button>
              <button id="collapseAllBtn" class="btn" type="button">
                Collapse all
              </button>
              <button id="undoBtn" class="btn" type="button">
                ‚¨ÖÔ∏è Undo
              </button>
              <button id="redoBtn" class="btn" type="button">
                ‚û°Ô∏è Redo
              </button>
            </div>
          </div>

          <div class="row">
            <input id="quickName" class="input" placeholder="Quick add: name" />
            <input id="quickUrl" class="input" placeholder="Quick add: https://..." />
            <span class="tiny">
              Use ‚Äú+ Link‚Äù inside a category to add properly.
            </span>
          </div>

          <div class="accordion" id="categoriesWrap"></div>
        </section>

        <!-- DOWNLOADS -->
        <section class="page" id="page-downloads" aria-label="Downloads">
          <div class="subtitle">Downloads</div>

          <div class="section">
            <div class="section-title">üéÆ Game launchers</div>
            <div class="grid" id="downloadsLaunchersGrid"></div>
          </div>

          <div class="section">
            <div class="section-title">üõ°Ô∏è VPN downloads</div>
            <div class="grid" id="downloadsVpnsGrid"></div>
            <p class="hint">
              Use official sites only. Some VPNs require an account or paid plan.
            </p>
          </div>
        </section>

        <!-- SETTINGS -->
        <section class="page" id="page-settings" aria-label="Settings">
          <div class="subtitle">Settings</div>

          <div class="panel">
            <div class="panel-title">Data</div>
            <div class="panel-text">
              Export your links as a file or import them back later.
            </div>

            <div class="row">
              <button id="exportBtn" class="btn primary" type="button">
                Export JSON
              </button>
              <button id="importBtn" class="btn" type="button">
                Import JSON
              </button>
              <input
                id="importFile"
                type="file"
                accept="application/json"
                class="hidden"
              />
              <button id="resetDataBtn" class="btn danger" type="button">
                Reset to defaults
              </button>
            </div>
          </div>

          <div class="panel">
            <div class="panel-title">Security</div>
            <div class="panel-text">
              Basic lock screen (client-side). Good for privacy, not strong security.
            </div>

            <div class="row">
              <button id="setPasswordBtn" class="btn" type="button">
                Set / Change password
              </button>
              <button id="removePasswordBtn" class="btn" type="button">
                Remove password
              </button>
              <button id="lockNowBtn" class="btn danger" type="button">
                Lock now
              </button>
            </div>
          </div>

          <div class="panel">
            <div class="panel-title">Theme</div>
            <div class="panel-text">
              Choose your accent color. This affects buttons, highlights, and cards.
            </div>

            <div class="row">
              <label class="tiny" for="accentColorInput">Accent color</label>
              <input id="accentColorInput" type="color" value="#4f46e5" />
              <button id="accentResetBtn" class="btn" type="button">Reset</button>
            </div>
          </div>

          <div class="panel">
            <div class="panel-title">Shortcuts</div>
            <div class="panel-text">
              <ul class="shortcut-list">
                <li><kbd>Ctrl+K</kbd> ‚Äì Focus search</li>
                <li><kbd>Ctrl+P</kbd> ‚Äì Command palette</li>
                <li><kbd>G</kbd> then <kbd>D</kbd> ‚Äì Go to Dashboard</li>
                <li><kbd>G</kbd> then <kbd>C</kbd> ‚Äì Go to Categories</li>
                <li><kbd>Ctrl+L</kbd> ‚Äì Lock screen (if password set)</li>
                <li><kbd>Ctrl+Z</kbd> ‚Äì Undo (Categories)</li>
                <li><kbd>Ctrl+Y</kbd> ‚Äì Redo (Categories)</li>
              </ul>
            </div>
          </div>

          <div class="panel">
            <div class="panel-title">About</div>
            <div class="panel-text">
              Theme, categories, favourites, order, and your data are saved in your browser.
            </div>
          </div>
        </section>
      </section>
    </main>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
